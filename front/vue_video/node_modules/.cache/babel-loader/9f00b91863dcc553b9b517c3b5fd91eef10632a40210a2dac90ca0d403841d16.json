{"ast":null,"code":"import { ref, watchEffect } from 'vue';\nimport { useRoute } from 'vue-router';\n\n// 创建响应式变量来存储视频信息\n\nexport default {\n  __name: 'VideoDetail',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const videoName = ref('');\n    const videoUrl = ref('');\n    const route = useRoute();\n\n    // 监听路由变化，并加载视频数据\n    watchEffect(() => {\n      loadVideo();\n    });\n\n    // 加载视频数据的函数\n    const loadVideo = () => {\n      if (!route.value.params || !route.value.params.id || !route.value.params.Products) {\n        console.error('Missing route parameters');\n        return;\n      }\n      const id = route.value.params.id;\n      const productsString = route.value.params.Products;\n      const products = JSON.parse(decodeURIComponent(productsString));\n      const foundVideo = products.find(product => product.id == id); // 注意这里使用 == 而不是 ===\n      if (foundVideo) {\n        videoName.value = foundVideo.name;\n        videoUrl.value = foundVideo.url;\n      } else {\n        console.error('Video not found');\n      }\n    };\n    const __returned__ = {\n      videoName,\n      videoUrl,\n      route,\n      loadVideo,\n      ref,\n      watchEffect,\n      get useRoute() {\n        return useRoute;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","watchEffect","useRoute","videoName","videoUrl","route","loadVideo","value","params","id","Products","console","error","productsString","products","JSON","parse","decodeURIComponent","foundVideo","find","product","name","url"],"sources":["F:/video/vue_video/src/views/VideoDetail.vue"],"sourcesContent":["<template>\r\n  <div class=\"video-detail\">\r\n    <h1>{{ videoName }}</h1>\r\n    <video :src=\"videoUrl\" controls autoplay></video>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, watchEffect } from 'vue';\r\nimport { useRoute } from 'vue-router';\r\n\r\n// 创建响应式变量来存储视频信息\r\nconst videoName = ref('');\r\nconst videoUrl = ref('');\r\n\r\nconst route = useRoute();\r\n\r\n// 监听路由变化，并加载视频数据\r\nwatchEffect(() => {\r\n  loadVideo();\r\n});\r\n\r\n// 加载视频数据的函数\r\nconst loadVideo = () => {\r\n  if (!route.value.params || !route.value.params.id || !route.value.params.Products) {\r\n    console.error('Missing route parameters');\r\n    return;\r\n  }\r\n\r\n  const id = route.value.params.id;\r\n  const productsString = route.value.params.Products;\r\n  const products = JSON.parse(decodeURIComponent(productsString));\r\n  const foundVideo = products.find(product => product.id == id); // 注意这里使用 == 而不是 ===\r\n  if (foundVideo) {\r\n    videoName.value = foundVideo.name;\r\n    videoUrl.value = foundVideo.url;\r\n  } else {\r\n    console.error('Video not found');\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.video-detail {\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n}\r\n\r\nvideo {\r\n  width: 100%;\r\n}\r\n</style>\r\n"],"mappings":"AAQA,SAASA,GAAG,EAAEC,WAAW,QAAQ,KAAK;AACtC,SAASC,QAAQ,QAAQ,YAAY;;AAErC;;;;;;;;IACA,MAAMC,SAAS,GAAGH,GAAG,CAAC,EAAE,CAAC;IACzB,MAAMI,QAAQ,GAAGJ,GAAG,CAAC,EAAE,CAAC;IAExB,MAAMK,KAAK,GAAGH,QAAQ,CAAC,CAAC;;IAExB;IACAD,WAAW,CAAC,MAAM;MAChBK,SAAS,CAAC,CAAC;IACb,CAAC,CAAC;;IAEF;IACA,MAAMA,SAAS,GAAGA,CAAA,KAAM;MACtB,IAAI,CAACD,KAAK,CAACE,KAAK,CAACC,MAAM,IAAI,CAACH,KAAK,CAACE,KAAK,CAACC,MAAM,CAACC,EAAE,IAAI,CAACJ,KAAK,CAACE,KAAK,CAACC,MAAM,CAACE,QAAQ,EAAE;QACjFC,OAAO,CAACC,KAAK,CAAC,0BAA0B,CAAC;QACzC;MACF;MAEA,MAAMH,EAAE,GAAGJ,KAAK,CAACE,KAAK,CAACC,MAAM,CAACC,EAAE;MAChC,MAAMI,cAAc,GAAGR,KAAK,CAACE,KAAK,CAACC,MAAM,CAACE,QAAQ;MAClD,MAAMI,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACC,kBAAkB,CAACJ,cAAc,CAAC,CAAC;MAC/D,MAAMK,UAAU,GAAGJ,QAAQ,CAACK,IAAI,CAACC,OAAO,IAAIA,OAAO,CAACX,EAAE,IAAIA,EAAE,CAAC,CAAC,CAAC;MAC/D,IAAIS,UAAU,EAAE;QACdf,SAAS,CAACI,KAAK,GAAGW,UAAU,CAACG,IAAI;QACjCjB,QAAQ,CAACG,KAAK,GAAGW,UAAU,CAACI,GAAG;MACjC,CAAC,MAAM;QACLX,OAAO,CAACC,KAAK,CAAC,iBAAiB,CAAC;MAClC;IACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}