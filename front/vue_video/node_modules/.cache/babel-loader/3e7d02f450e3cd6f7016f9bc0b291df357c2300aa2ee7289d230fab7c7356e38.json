{"ast":null,"code":"import { ref, onMounted } from 'vue';\nimport request from \"@/utils/request\";\nimport { useRoute } from 'vue-router';\n\n// 使用 ref 创建响应式数据\n\nexport default {\n  __name: 'VideoDetail',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const videoData = ref(null);\n\n    // 获取路由器实例\n    const route = useRoute();\n\n    // 从路由参数中获取视频 ID\n    const videoId = route.params.id;\n\n    // 定义方法来加载视频数据\n    const loadVideoData = async () => {\n      try {\n        // 发起请求获取视频数据\n        const res = await request.get(`/file/${videoId}`);\n        // 如果请求成功，更新视频数据\n        videoData.value = res.data.data;\n      } catch (error) {\n        // 捕获并处理请求错误\n        console.error('Error loading video data:', error);\n      }\n    };\n\n    // 在组件挂载时加载视频数据\n    onMounted(() => {\n      loadVideoData();\n    });\n    const __returned__ = {\n      videoData,\n      route,\n      videoId,\n      loadVideoData,\n      ref,\n      onMounted,\n      get request() {\n        return request;\n      },\n      get useRoute() {\n        return useRoute;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","request","useRoute","videoData","route","videoId","params","id","loadVideoData","res","get","value","data","error","console"],"sources":["F:/video/vue_video/src/views/VideoDetail.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <!-- 在加载数据期间显示加载状态 -->\r\n    <div v-if=\"!videoData\">Loading...</div>\r\n    <!-- 显示视频数据 -->\r\n    <div v-else>\r\n      <h1>{{ videoData.name }}</h1>\r\n      <p>{{ videoData.cover }}</p>\r\n      <!-- 显示视频播放器 -->\r\n      <video controls>\r\n        <source :src=\"videoData.url\" type=\"video/mp4\">\r\n        Your browser does not support the video tag.\r\n      </video>\r\n      <!-- 其他视频数据的展示 -->\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue';\r\nimport request from \"@/utils/request\";\r\nimport { useRoute } from 'vue-router';\r\n\r\n// 使用 ref 创建响应式数据\r\nconst videoData = ref(null);\r\n\r\n// 获取路由器实例\r\nconst route = useRoute();\r\n\r\n// 从路由参数中获取视频 ID\r\nconst videoId = route.params.id;\r\n\r\n// 定义方法来加载视频数据\r\nconst loadVideoData = async () => {\r\n  try {\r\n    // 发起请求获取视频数据\r\n    const res = await request.get(`/file/${videoId}`);\r\n    // 如果请求成功，更新视频数据\r\n    videoData.value = res.data.data;\r\n  } catch (error) {\r\n    // 捕获并处理请求错误\r\n    console.error('Error loading video data:', error);\r\n  }\r\n};\r\n\r\n// 在组件挂载时加载视频数据\r\nonMounted(() => {\r\n  loadVideoData();\r\n});\r\n</script>\r\n"],"mappings":"AAmBA,SAASA,GAAG,EAAEC,SAAS,QAAQ,KAAK;AACpC,OAAOC,OAAO,MAAM,iBAAiB;AACrC,SAASC,QAAQ,QAAQ,YAAY;;AAErC;;;;;;;;IACA,MAAMC,SAAS,GAAGJ,GAAG,CAAC,IAAI,CAAC;;IAE3B;IACA,MAAMK,KAAK,GAAGF,QAAQ,CAAC,CAAC;;IAExB;IACA,MAAMG,OAAO,GAAGD,KAAK,CAACE,MAAM,CAACC,EAAE;;IAE/B;IACA,MAAMC,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChC,IAAI;QACF;QACA,MAAMC,GAAG,GAAG,MAAMR,OAAO,CAACS,GAAG,CAAE,SAAQL,OAAQ,EAAC,CAAC;QACjD;QACAF,SAAS,CAACQ,KAAK,GAAGF,GAAG,CAACG,IAAI,CAACA,IAAI;MACjC,CAAC,CAAC,OAAOC,KAAK,EAAE;QACd;QACAC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACnD;IACF,CAAC;;IAED;IACAb,SAAS,CAAC,MAAM;MACdQ,aAAa,CAAC,CAAC;IACjB,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}