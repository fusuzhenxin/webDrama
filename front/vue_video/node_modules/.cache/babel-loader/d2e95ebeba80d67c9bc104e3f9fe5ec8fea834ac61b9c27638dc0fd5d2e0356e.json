{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"top-nav\"\n};\nconst _hoisted_2 = {\n  class: \"top-nav-list\"\n};\nconst _hoisted_3 = {\n  key: 0\n};\nconst _hoisted_4 = {\n  key: 1\n};\nconst _hoisted_5 = [\"src\"];\nconst _hoisted_6 = {\n  style: {\n    \"color\": \"white\"\n  },\n  class: \"username\"\n};\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"dropdown-arrow\"\n}, \"▼\", -1 /* HOISTED */);\nconst _hoisted_8 = {\n  key: 0,\n  class: \"dropdown-menu\"\n};\nconst _hoisted_9 = {\n  class: \"nav-list\"\n};\nconst _hoisted_10 = [\"src\"];\nconst _hoisted_11 = {\n  class: \"search-box\"\n};\nconst _hoisted_12 = {\n  class: \"search-container\"\n};\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"input\", {\n  type: \"text\",\n  placeholder: \"搜索\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_14 = [\"src\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_router_view = _resolveComponent(\"router-view\");\n  const _component_Footer = _resolveComponent(\"Footer\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createCommentVNode(\" 导航栏 \"), _createElementVNode(\"nav\", _hoisted_1, [_createElementVNode(\"ul\", _hoisted_2, [!$setup.isLoggedIn ? (_openBlock(), _createElementBlock(\"li\", _hoisted_3, [_createVNode(_component_router_link, {\n    to: \"/login\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"登录\")]),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true), !$setup.isLoggedIn ? (_openBlock(), _createElementBlock(\"li\", _hoisted_4, [_createVNode(_component_router_link, {\n    to: \"/register\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"注册\")]),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true), $setup.isLoggedIn ? (_openBlock(), _createElementBlock(\"li\", {\n    key: 2,\n    onClick: _cache[1] || (_cache[1] = (...args) => $setup.toggleDropdown && $setup.toggleDropdown(...args)),\n    class: \"user-dropdown\"\n  }, [_createElementVNode(\"img\", {\n    src: require('../assets/img_7.png'),\n    class: \"avatar\"\n  }, null, 8 /* PROPS */, _hoisted_5), _createElementVNode(\"span\", _hoisted_6, _toDisplayString($setup.username), 1 /* TEXT */), _createCommentVNode(\" 下拉箭头 \"), _hoisted_7, _createCommentVNode(\" 下拉菜单 \"), $setup.showDropdown ? (_openBlock(), _createElementBlock(\"ul\", _hoisted_8, [_createElementVNode(\"li\", null, [_createElementVNode(\"a\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $setup.logout && $setup.logout(...args))\n  }, \"退出\")])])) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true)])]), _createCommentVNode(\" 导航栏 \"), _createElementVNode(\"nav\", null, [_createElementVNode(\"ul\", _hoisted_9, [_createElementVNode(\"img\", {\n    src: require('../assets/img_1.png'),\n    alt: \"\",\n    style: {\n      \"width\": \"60px\",\n      \"position\": \"relative\",\n      \"top\": \"3px\",\n      \"left\": \"-150px\"\n    }\n  }, null, 8 /* PROPS */, _hoisted_10), _createCommentVNode(\" 首页导航项 \"), _createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: \"/\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"首页\")]),\n    _: 1 /* STABLE */\n  })]), _createCommentVNode(\" 购物车导航项 \"), _createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: \"/ShoppingCart\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"购物车\")]),\n    _: 1 /* STABLE */\n  })]), _createCommentVNode(\" 订单导航项 \"), _createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: \"/orders\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"我的订单\")]),\n    _: 1 /* STABLE */\n  })]), _createCommentVNode(\" 我的账户导航项 \"), _createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: \"/account\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"我的账户\")]),\n    _: 1 /* STABLE */\n  })]), _createCommentVNode(\" 我的收藏夹导航项 \"), _createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: \"/account\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"收藏夹\")]),\n    _: 1 /* STABLE */\n  })]), _createCommentVNode(\" 我的收货地址导航项 \"), _createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: \"/account\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"收货地址\")]),\n    _: 1 /* STABLE */\n  })]), _createCommentVNode(\" 搜索框和按钮 \"), _createElementVNode(\"li\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_hoisted_13, _createElementVNode(\"button\", null, [_createElementVNode(\"img\", {\n    src: require('../assets/1.png')\n  }, null, 8 /* PROPS */, _hoisted_14)])])])]), _createVNode(_component_router_view)]), _createVNode(_component_Footer)]);\n}","map":{"version":3,"names":["class","key","style","_createElementVNode","type","placeholder","_createElementBlock","_createCommentVNode","_hoisted_1","_hoisted_2","$setup","isLoggedIn","_hoisted_3","_createVNode","_component_router_link","to","default","_withCtx","_createTextVNode","_","_hoisted_4","onClick","_cache","args","toggleDropdown","src","require","_hoisted_5","_hoisted_6","_toDisplayString","username","_hoisted_7","showDropdown","_hoisted_8","logout","_hoisted_9","alt","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_component_router_view","_component_Footer"],"sources":["F:\\video\\vue_video\\src\\views\\Layout.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <!-- 导航栏 -->\r\n    <nav class=\"top-nav\">\r\n      <ul class=\"top-nav-list\">\r\n        <li v-if=\"!isLoggedIn\"><router-link to=\"/login\">登录</router-link></li>\r\n        <li v-if=\"!isLoggedIn\"><router-link to=\"/register\">注册</router-link></li>\r\n        <li v-if=\"isLoggedIn\" @click=\"toggleDropdown\" class=\"user-dropdown\">\r\n          <img :src=\"require('../assets/img_7.png')\" class=\"avatar\">\r\n          <span style=\"color: white;\" class=\"username\">{{ username }}</span>\r\n          <!-- 下拉箭头 -->\r\n          <span class=\"dropdown-arrow\">&#9660;</span>\r\n          <!-- 下拉菜单 -->\r\n          <ul v-if=\"showDropdown\" class=\"dropdown-menu\">\r\n            <li><a @click=\"logout\">退出</a></li>\r\n          </ul>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n\r\n    <!-- 导航栏 -->\r\n    <nav>\r\n      <ul class=\"nav-list\">\r\n        <img :src=\"require('../assets/img_1.png')\" alt=\"\" style=\"width: 60px; position: relative; top: 3px; left: -150px\">\r\n        <!-- 首页导航项 -->\r\n        <li><router-link to=\"/\">首页</router-link></li>\r\n        <!-- 购物车导航项 -->\r\n        <li><router-link to=\"/ShoppingCart\">购物车</router-link></li>\r\n        <!-- 订单导航项 -->\r\n        <li><router-link to=\"/orders\">我的订单</router-link></li>\r\n        <!-- 我的账户导航项 -->\r\n        <li><router-link to=\"/account\">我的账户</router-link></li>\r\n        <!-- 我的收藏夹导航项 -->\r\n        <li><router-link to=\"/account\">收藏夹</router-link></li>\r\n        <!-- 我的收货地址导航项 -->\r\n        <li><router-link to=\"/account\">收货地址</router-link></li>\r\n\r\n        <!-- 搜索框和按钮 -->\r\n        <li class=\"search-box\">\r\n          <div class=\"search-container\">\r\n            <input type=\"text\" placeholder=\"搜索\">\r\n            <button><img :src=\"require('../assets/1.png')\"></button>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n      <router-view/>\r\n    </nav>\r\n\r\n    <Footer/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Footer from \"@/views/Footer.vue\";\r\nimport { computed, ref } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\n\r\nexport default {\r\n  name: 'App',\r\n  components: {\r\n    Footer,\r\n  },\r\n  setup() {\r\n    const router = useRouter();\r\n    const user = ref(JSON.parse(localStorage.getItem('user')));\r\n    const showDropdown = ref(false);\r\n\r\n    const isLoggedIn = computed(() => !!user.value);\r\n    const username = computed(() => user.value ? user.value.username : '');\r\n\r\n    const toggleDropdown = () => {\r\n      showDropdown.value = !showDropdown.value;\r\n    };\r\n\r\n    const logout = () => {\r\n      // 清除用户信息\r\n      user.value = null;\r\n      localStorage.removeItem('user');\r\n      // 清空购物车数据\r\n      // 这里可以调用清空购物车数据的函数，具体实现需要根据您的实际情况进行\r\n      // 导航到首页\r\n      if (router.currentRoute.value.path !== '/home') {\r\n        router.push('/');\r\n      }\r\n    };\r\n\r\n    return {\r\n      user,\r\n      isLoggedIn,\r\n      username,\r\n      showDropdown,\r\n      toggleDropdown,\r\n      logout\r\n    };\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n/* 样式部分省略，保持不变 */\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}